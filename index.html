<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banana Supply</title>
    <link rel="icon" type="image/x-icon" href="banana.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #fffef0;
            color: #2a2a2a;
            min-height: 100vh;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 2rem 3rem;
            border-bottom: 1px solid #ffe680;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2a2a2a;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .x-button {
            background: none;
            border: 1px solid #e0e0e0;
            border-radius: 50%;
            padding: 0.5rem;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .x-button:hover {
            border-color: #ffd60a;
            background: #fffef0;
        }

        .x-button svg {
            width: 18px;
            height: 18px;
            fill: #2a2a2a;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }

        .fee-display {
            text-align: center;
            margin-bottom: 4rem;
        }

        .fee-amount {
            font-size: 5rem;
            font-weight: 700;
            color: #2a2a2a;
            margin-bottom: 0.5rem;
        }

        .fee-label {
            font-size: 1rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .info-box {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .info-box h2 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #2a2a2a;
        }

        .info-box p {
            font-size: 1rem;
            line-height: 1.6;
            color: #4a4a4a;
        }

        .distribution-grid {
            display: flex;
            justify-content: center;
            margin-top: 2rem;
        }

        .distribution-item {
            text-align: center;
            padding: 1.5rem;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }

        .distribution-item .percent {
            font-size: 2rem;
            font-weight: 700;
            color: #2a2a2a;
            margin-bottom: 0.5rem;
        }

        .distribution-item .label {
            font-size: 0.9rem;
            color: #666;
        }

        .timer {
            text-align: center;
            padding: 1.5rem;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin-top: 2rem;
        }

        .timer-label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.5rem;
        }

        .countdown {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2a2a2a;
            font-family: 'Courier New', monospace;
        }

        .transactions-section {
            margin-top: 3rem;
        }

        .transactions-section h2 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #2a2a2a;
        }

        .transactions-table {
            width: 100%;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
        }

        .transactions-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .transactions-table th {
            background: #fafafa;
            padding: 1rem;
            text-align: left;
            font-size: 0.9rem;
            font-weight: 600;
            color: #666;
            border-bottom: 1px solid #e0e0e0;
        }

        .transactions-table td {
            padding: 1rem;
            font-size: 0.9rem;
            color: #2a2a2a;
            border-bottom: 1px solid #f0f0f0;
        }

        .transactions-table tr:last-child td {
            border-bottom: none;
        }

        .empty-state {
            padding: 3rem;
            text-align: center;
            color: #999;
            font-size: 0.9rem;
        }

        .tx-hash {
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
        }

        .tx-amount {
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .header {
                padding: 1.5rem;
            }

            .container {
                padding: 2rem 1rem;
            }

            .fee-amount {
                font-size: 3rem;
            }

            .distribution-grid {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">
            üçå Banana Supply
        </div>
        <a href="https://x.com/BananaDotSupply" target="_blank" rel="noopener noreferrer" class="x-button">
            <svg viewBox="0 0 24 24">
                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
            </svg>
        </a>
    </header>

    <div class="container">
        <div class="fee-display">
            <div class="fee-amount" id="feeAmount">$0.00</div>
            <div class="fee-label">Total Fees</div>
        </div>

        <div class="info-box">
            <h2>Distribution</h2>
            <p>Every 5 minutes, 80% of accumulated fees are sent to holders based on their token percentage.</p>
        </div>

        <div class="distribution-grid">
            <div class="distribution-item">
                <div class="percent">80%</div>
                <div class="label">Holders</div>
            </div>
        </div>

        <div class="timer">
            <div class="timer-label">Next distribution</div>
            <div class="countdown" id="countdown">04:59</div>
        </div>

        <div class="transactions-section">
            <h2>Recent Distributions</h2>
            <div class="transactions-table">
                <table id="transactionsTable">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Transaction</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody id="transactionsBody">
                        <tr>
                            <td colspan="3" class="empty-state">No distributions yet. First distribution in <span id="emptyTimer">04:59</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        let currentFee = parseFloat(localStorage.getItem('banana_fee') || '0');
        let seconds = 299;
        let transactions = JSON.parse(localStorage.getItem('banana_txs') || '[]');
        let hasDistributed = false;

        function generateTxHash() {
            const chars = '0123456789abcdef';
            let hash = '';
            for (let i = 0; i < 64; i++) {
                hash += chars[Math.floor(Math.random() * chars.length)];
            }
            return hash;
        }

        function formatTime() {
            const now = new Date();
            return now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
        }

        function addTransaction() {
            const amount = (currentFee * 0.8).toFixed(2);
            const tx = {
                time: formatTime(),
                hash: generateTxHash(),
                amount: amount
            };
            
            transactions.unshift(tx);
            if (transactions.length > 10) transactions = transactions.slice(0, 10);
            localStorage.setItem('banana_txs', JSON.stringify(transactions));
            updateTransactionsTable();
        }

        function updateTransactionsTable() {
            const tbody = document.getElementById('transactionsBody');
            
            if (transactions.length === 0) {
                tbody.innerHTML = '<tr><td colspan="3" class="empty-state">No distributions yet. First distribution in <span id="emptyTimer"></span></td></tr>';
                updateEmptyTimer();
            } else {
                tbody.innerHTML = transactions.map(tx => `
                    <tr>
                        <td>${tx.time}</td>
                        <td class="tx-hash">${tx.hash.substring(0, 8)}...${tx.hash.substring(56)}</td>
                        <td class="tx-amount">$${tx.amount}</td>
                    </tr>
                `).join('');
            }
        }

        function updateEmptyTimer() {
            const emptyTimer = document.getElementById('emptyTimer');
            if (emptyTimer) {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                emptyTimer.textContent = mins.toString().padStart(2, '0') + ':' + secs.toString().padStart(2, '0');
            }
        }

        function updateDisplay() {
            document.getElementById('feeAmount').textContent = '$' + currentFee.toFixed(2);
        }

        function updateFee() {
            currentFee += Math.random() * 1.5 + 0.05;
            localStorage.setItem('banana_fee', currentFee);
            updateDisplay();
        }

        function updateTimer() {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            document.getElementById('countdown').textContent = 
                mins.toString().padStart(2, '0') + ':' + secs.toString().padStart(2, '0');
            
            if (seconds === 0) {
                seconds = 299;
                hasDistributed = true;
                document.getElementById('countdown').textContent = 'DISTRIBUTING';
                addTransaction();
                setTimeout(() => updateTimer(), 2000);
            } else {
                seconds--;
                if (transactions.length === 0) {
                    updateEmptyTimer();
                }
            }
        }

        updateDisplay();
        updateTransactionsTable();
        setInterval(updateFee, 5000);
        setInterval(updateTimer, 1000);
    </script>
</body>
</html>
